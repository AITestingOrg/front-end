sudo: required
dist: trusty
language: node_js
node_js:
- '10'
addons: 
apt:
  sources:
  - google-chrome
  packages:
  - google-chrome-stable
  - google-chrome-beta
before_install:
- export CHROME_BIN=chromium-browser
- export DISPLAY=:99.0
- sh -e /etc/init.d/xvfb start
before_script:
- npm install -g @angular/cli
- npm install -g karma
- npm install
- ng build
script: ng test --karma-config karma.conf.js --watch=false
notifications:
  slack:
    rooms:
      - secure: QVGAwGmoCLqqFHBwzoSmbRYR7z3sO8l8qGpZOx5LUYfxYmlPfokxfW95pV0RlhaghzOLgjkwDdOaY2byDYLErC/kMcIKTz+mbIN2wyidNro3j4F1O/mF2J4LU0cUijej8wmlADec4+5q29tQKhngNfcPVLCPa1FWsvfvDT7pt4+HgQtngdl8FhaRrsCnMVjV8ye5c3DUXzrcRbwQXnKtqTVZF35G5Zsm4bgkgpZm38JtXusFU0hejMbCBkAkRz77J1ITkwV/YJZ6Lu0FFEUcRvZSCQhIJJD5xhkoDG7eBYIbyeHHVqFrRsdImg3Rkcz9IwJlwWSXQlbxvhvbWI7QdWfvtZcqsTyKcSqsNdiRGa2Ne4o9pfoMgHxcSWw3DBWq5EWJ2hEFdn+bNi2+M0z7t4ka+WJ2eXczaPUpDI419wRvyEOHLAKOaFuNQZg5txcVK1mMIxslZaULImCNEjL6W3BLSLSqpKJJykW804J3AlVlPvaOBNSHMpeA/R7snxeeZ1YIcJu7iqfPRdVtvsUiq3D6AuJ6avairBVghQO6oVWv9fpC9IuLpeNiSDQMQpl9o6w6hBdkUhL8RLI0zBcOLmA+DgQ9DBK3XGsk+c7+0yX4XTxGPaw4ozTQalCHG6hSXK/4qkKKcL22/RsVeoXw09wQL9L3CGWRWdyxDqO2+nI=
    on_success: never
    on_failure: always
